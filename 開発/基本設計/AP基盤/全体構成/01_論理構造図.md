# 論理構造図

---

## 論理構造図とは

AP基盤基本設計書における論理構造図は、システムの論理的な構成要素とそれらの関係性を視覚的に表現した図です。物理的な配置や技術的な実装詳細ではなく、システムを構成する主要な論理コンポーネントとそれらの相互作用に焦点を当てます。

## 論理構造図作成の目的

1. **システム全体像の可視化** - システムの主要コンポーネントとその関係を明確にする
2. **設計意図の伝達** - 開発関係者間で設計思想を共有する
3. **基本設計の基礎** - 詳細設計や実装の指針となる
4. **影響範囲分析** - 変更時の影響範囲を把握しやすくする

## 論理構造図の作成手順

### 1. システム境界の定義
- 対象システムと外部システム/ユーザーの境界を明確化
- システムが提供する機能範囲を決定

### 2. 主要コンポーネントの抽出
- システムを構成する論理的なブロックを識別
  - 例: ユーザーインターフェース、ビジネスロジック、データアクセス層など
- 各コンポーネントの責務を明確に定義

### 3. 関係性の定義
- コンポーネント間の依存関係、データフロー、制御フローを明示
- インターフェースの方向性（双方向/単方向）を表現

### 4. レイヤリング
- プレゼンテーション層、アプリケーション層、データ層など階層化
- クライアント/サーバーサイドの分離

### 5. 外部システム連携の表現
- API連携、ファイル連携などの外部インターフェースを明記
- 連携方式（同期/非同期）を必要に応じて記載

## 論理構造図の記載項目

1. **論理コンポーネント**
   - システムを構成する主要な機能ブロック
   - 適切な粒度で命名（例: "注文管理サービス"）

2. **コンポーネント間関係**
   - 依存関係、呼び出し関係、データフロー
   - 矢印や線で表現し、必要に応じてラベル付与

3. **外部インターフェース**
   - ユーザーや外部システムとの接点
   - インターフェース種別（API、ファイル等）

4. **主要データストア**
   - データベース、ファイルシステムなどの論理的な表現

5. **補足説明**
   - 図だけでは伝わりにくい情報の注釈
   - 設計上の重要な判断理由など

## 作成時のベストプラクティス

1. **適切な抽象度の維持**
   - 実装詳細ではなく、論理的な構造に焦点
   - 1枚の図で全体像が把握できるレベルが理想

2. **一貫性のある記法**
   - コンポーネントの形状、線の種類など統一
   - 企業/プロジェクトの標準に従う

3. **階層化アプローチ**
   - 上位レベルの図と詳細レベルの図を分ける
   - 必要に応じてズームインした図を別途作成

4. **ツールの活用**
   - UMLツール（Enterprise Architect, Visual Paradigmなど）
   - ダイアグラムツール（Draw.io, Lucidchartなど）
   - プレーンな図形ツール（PowerPoint, Visioなど）

5. **バージョン管理**
   - 設計変更に伴い図も更新
   - 変更履歴を残す

## 論理構造図の検証ポイント

1. システム要件をすべてカバーできているか
2. コンポーネントの責務に重複/漏れがないか
3. 依存関係に循環がないか
4. パフォーマンス、拡張性の観点で問題ないか
5. セキュリティ境界が適切に考慮されているか

論理構造図は基本設計の重要な成果物であり、後続工程の品質を左右するため、関係者間での十分なレビューが不可欠です。
