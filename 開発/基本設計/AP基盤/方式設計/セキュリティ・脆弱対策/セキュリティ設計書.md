
# 基本設計書　セキュリティ方式
「**基本設計におけるセキュリティ方式設計**」は、システムのアーキテクチャや機能要件を踏まえて、どのように **安全性を確保するか** を定義する工程です。要件定義で決めた「セキュリティ要件」を実現するために、具体的な方式や仕組みを整理することが目的になります。以下に詳しくご説明します。

---

## 1. セキュリティ方式設計の位置づけ

* **要件定義**：セキュリティ要求（機密性・完全性・可用性・認証・追跡性など）を整理
* **基本設計**：要求を満たすためのセキュリティ方式を設計（例：認証はOAuth2.0、通信はTLS1.3 など方式を選定）
* **詳細設計**：方式をプログラム・構成レベルに落とし込み（例：JWTの署名方式HS256/RS256を選定）

---

## 2. セキュリティ方式設計の観点

大きく分けると以下の領域ごとに方式を設計します。

### (1) 認証・認可方式

* **認証**（ユーザの本人確認）

  * ID/パスワード方式（ハッシュ化保存・ソルト付与）
  * 多要素認証（MFA：ワンタイムパスワード、SMS、FIDO2）
  * シングルサインオン（SSO：SAML、OpenID Connect）
* **認可**（権限確認）

  * RBAC（Role-Based Access Control）
  * ABAC（Attribute-Based Access Control）
  * APIアクセス制御（OAuth2.0、JWTトークン）

### (2) 通信経路のセキュリティ

* 通信暗号化（TLS1.2以上、TLS1.3推奨）
* VPN、IPsec、ゼロトラストネットワーク構成
* API Gatewayでのリクエスト認証・制御

### (3) データ保護方式

* **保存データ**（暗号化ストレージ、KMSによる鍵管理）
* **転送データ**（TLS、HTTPS、SFTP、HULFTなど）
* 個人情報・機微情報のマスキング、匿名化、トークナイゼーション

### (4) ログ・監査方式

* 操作ログ（誰が・いつ・何をしたか）
* 監査ログ（認証失敗、権限昇格などのセキュリティイベント）
* 改ざん防止（WORMストレージ、署名付きログ）

### (5) システム防御方式

* **外部脅威対策**

  * WAF（Web Application Firewall）
  * IDS/IPS（侵入検知・防御）
  * DDoS対策（CDNやクラウドサービス）
* **内部脅威対策**

  * 最小権限の原則
  * 職務分掌
  * アクセス権限の定期棚卸し

### (6) セキュリティ運用方式

* パッチ適用方針（OS、ミドルウェア、アプリ）
* 脆弱性診断（Webアプリ・ネットワーク・コンテナ）
* インシデント対応手順（検知→通報→封じ込め→復旧）

---

## 3. 設計書への記載イメージ

基本設計書では、以下のように整理して記載します。

| 項目    | 設計内容例                                 |
| ----- | ------------------------------------- |
| 認証方式  | OpenID Connect によるSSO、多要素認証導入         |
| 認可方式  | RBAC方式、管理者/一般利用者/監査ユーザを定義             |
| 通信方式  | 全通信をTLS1.3で暗号化、証明書はLet's Encryptで自動更新 |
| データ保護 | RDSはKMSで暗号化、個人情報はAES-256で暗号化          |
| ログ監査  | 監査ログは改ざん防止ストレージに保存、保管期間5年             |
| 外部防御  | WAF導入、CDNによるDDoS対策                    |
| 運用方式  | 毎月の脆弱性診断実施、重大インシデントは1時間以内に報告          |

---

## 4. 注意点

* **方式は具体的に記載する**（「暗号化する」ではなく「AES-256を使用」など）
* **非機能要件とリンクさせる**（例：可用性99.9%を達成するために冗長構成）
* **クラウド特性を考慮**（AWS/GCP/Azureのセキュリティサービスを積極活用）
* **法令・規制対応**（個人情報保護法、FISC、PCI DSS、ISO27001 など準拠）

---

# **金融システムにおけるセキュリティ方式設計**
金融は **極めて高いレベルの機密性・完全性・可用性** が求められるため、一般的な業務システム以上に厳格なセキュリティ設計が必要です。

---

## 1. 金融システムに求められる前提

* **法令・規制遵守**

  * 金融庁ガイドライン
  * FISC安全対策基準
  * 個人情報保護法、マイナンバー法
  * PCI DSS（クレジットカード情報を扱う場合）
* **リスクレベルの高さ**

  * 金銭的価値が直接絡むため不正利用リスク大
  * 高度な攻撃（標的型攻撃、内部不正）を想定

---

## 2. 金融システムのセキュリティ方式の観点

### (1) 認証・認可

* 多要素認証（MFA）の標準化

  * ID/パスワード + ワンタイムパスワード（OTP）/ハードウェアトークン
  * スマートフォン生体認証（指紋・顔認証）連携
* シングルサインオン（SSO：SAML2.0、OpenID Connect）
* 権限管理

  * **職務分掌**（システム管理者／業務担当者の分離）
  * RBAC（Role-Based Access Control）を基本とし、機密業務はABACや承認フロー導入

### (2) 通信経路の保護

* インターネット経由の全通信は **TLS1.3以上**
* 内部システム間通信も暗号化（mTLS, IPsec VPN, PrivateLink等）
* APIアクセス制御

  * OAuth2.0 / JWT署名（RS256/ECDSA）
  * API Gatewayによるスロットリング・不正リクエスト遮断

### (3) データ保護

* 保存データ（DB・ファイル）は **AES-256** など強力な暗号化
* 鍵管理は **HSM (Hardware Security Module)** やクラウドKMSを利用
* 個人情報・金融取引データはマスキング／トークナイゼーションで保護
* データ改ざん検出のため **ハッシュ値管理** を導入

### (4) ログ・監査

* 監査証跡の完全性担保

  * WORMストレージやブロックチェーン的仕組みで改ざん防止
  * SIEM（Security Information and Event Management）でリアルタイム監視
* 保存期間は FISC 基準に準拠（5～7年程度）
* 不正検知ログを SOC（セキュリティオペレーションセンター）に転送

### (5) 外部防御・内部防御

* 外部防御

  * WAF（SQL Injection、XSS対策）
  * DDoS対策（CDNやクラウドベンダのマネージドサービス）
  * IDS/IPS による侵入検知
* 内部防御

  * 最小権限の原則（Zero Trustモデル）
  * 特権ID管理（利用申請・承認・操作ログ取得）
  * RPAやバッチの利用権限も厳格に制御

### (6) 運用・監視

* 定期的な脆弱性診断・ペネトレーションテスト（年1回以上）
* パッチ適用サイクル（重要セキュリティパッチは48時間以内）
* インシデント対応プロセス（検知 → 封じ込め → 根絶 → 復旧 → 報告）をCSIRTで整備

---

## 3. 設計書への記載例（金融システム向け）

| 項目    | 設計内容例                                          |
| ----- | ---------------------------------------------- |
| 認証    | ユーザ認証はID+パスワード+OTP。管理者はさらにFIDO2キー必須            |
| 認可    | 業務ユーザはRBAC方式、管理者操作は承認ワークフロー必須                  |
| 通信    | すべての外部通信はTLS1.3、内部通信はmTLS。証明書はHSMで管理           |
| データ保護 | RDBはAES-256暗号化、取引ログはKMS管理鍵で暗号化、個人情報はトークナイゼーション |
| ログ監査  | WORMストレージで5年間保存、SIEMでリアルタイム監視、SOC連携            |
| 外部防御  | WAF + IDS/IPS + DDoS対策サービスを導入                  |
| 内部防御  | 特権IDはワンタイム発行、操作は動画・ログ記録                        |
| 運用    | 四半期ごとに脆弱性診断、CSIRTがインシデント管理                     |

---

## 4. 金融システム特有のポイント

* **高可用性**：二重化・DR（災害対策）サイト必須
* **レジリエンス**：障害・攻撃時の業務継続（BCP/DRP設計）
* **法規制適合**：海外拠点がある場合はGDPR、米国SOX法なども対象
* **利用者体験**：セキュリティを強化しても利用者が使いやすいUXを確保（例：生体認証導入で利便性とセキュリティを両立）

---


# ✅ FISC安全対策基準に基づくチェックリスト

FISC（公益財団法人 金融情報システムセンター）が定める **「金融機関等コンピュータシステムの安全対策基準」** は、金融システムのセキュリティに関する国内標準的な指針です。
基準は大きく「管理態勢」「物理的対策」「技術的対策」「運用管理」に分かれており、監査や基本設計時にはチェックリスト化して利用するのが一般的です。

---

## ✅ FISC安全対策基準に基づくチェックリスト（主要項目例）

### 1. 管理態勢

* [ ] 情報セキュリティポリシーは策定されているか
* [ ] システムリスク管理組織（セキュリティ委員会など）が設置されているか
* [ ] CSIRTやインシデント対応組織が整備されているか
* [ ] 外部委託先のセキュリティ管理を含むガバナンス体制があるか

### 2. 物理的対策

* [ ] データセンター／サーバ室は入退室管理（カード認証・生体認証）を実施しているか
* [ ] サーバ・ネットワーク機器への物理的アクセスは制限されているか
* [ ] 火災・地震・水害等への災害対策（耐震ラック、無停電電源、発電機）があるか
* [ ] 媒体（バックアップテープ、外部記録媒体）の持ち出し管理が行われているか

### 3. 技術的対策

#### (1) 認証・認可

* [ ] 利用者は強固な認証方式（多要素認証）を導入しているか
* [ ] 管理者・特権IDはワンタイム発行、操作ログ取得がされているか
* [ ] 権限は最小権限の原則で付与され、定期的に棚卸しされているか

#### (2) ネットワーク・通信

* [ ] インターネット接続部はFW/WAF/IDS/IPSで防御されているか
* [ ] 内外ネットワークは適切に分離（DMZ、ゼロトラスト考慮）されているか
* [ ] 通信はTLS1.2以上、VPNやIPsecなどで暗号化されているか

#### (3) データ保護

* [ ] データベース・ファイルは暗号化（AES-256 等）されているか
* [ ] 鍵管理はHSM/KMSなどの安全な機構で行われているか
* [ ] 個人情報・金融取引情報はマスキング・トークナイゼーションを実施しているか

#### (4) ログ・監査

* [ ] 操作ログ・監査ログは改ざん防止措置（WORM、ハッシュ）を取っているか
* [ ] ログは適切に保管（5〜7年）され、監査可能な状態にあるか
* [ ] SIEMやSOCでリアルタイム監視が行われているか

### 4. 運用管理

* [ ] 脆弱性診断・ペネトレーションテストを定期的に実施しているか
* [ ] パッチ適用管理（緊急パッチは48時間以内）が運用されているか
* [ ] バックアップは遠隔地・オフサイト保管されているか
* [ ] DR/BCP（災害復旧・業務継続）計画が策定・訓練されているか
* [ ] インシデント対応フロー（検知→通報→封じ込め→復旧→報告）が整備されているか
* [ ] 外部委託先のセキュリティ監査を定期的に実施しているか

---

## 📄 記載イメージ（Excelチェックリスト形式）

| 区分   | 項目         | 内容                    | チェック | コメント        |
| ---- | ---------- | --------------------- | ---- | ----------- |
| 管理態勢 | セキュリティポリシー | 情報セキュリティ基本方針を策定しているか  | ☐    | 2025年版を改定予定 |
| 技術対策 | 認証         | 多要素認証を導入しているか         | ☐    | 一部システムは未対応  |
| 技術対策 | 通信暗号化      | 外部通信はTLS1.3で暗号化されているか | ☑    | 完了          |
| 運用管理 | インシデント対応   | CSIRTによる対応フローを整備しているか | ☐    | 訓練は年1回実施予定  |

---

## 🔑 ポイント

* **FISC基準は「必須」ではなく「ガイドライン」** → 金融庁監督指針や各金融機関のリスク基準とあわせて運用
* **クラウド利用時は要補完** → AWS/Azure/GCPのマネージドセキュリティサービスをどう適用するか明記
* **監査用に証跡を残す** → 「ルールを定めた」だけでなく「実際に運用している証跡（ログ・記録）」が重要

---





